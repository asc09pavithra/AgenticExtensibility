[ req ]
basicConstraints 	= CA:FALSE
nsCertType 		= server
nsComment 		= "OpenSSL Generated Server Certificate"
subjectKeyIdentifier 	= hash
authorityKeyIdentifier = keyid,issuer:always
keyUsage 		= critical, digitalSignature, keyEncipherment
extendedKeyUsage 	= serverAuth
default_bits       	= 2048
distinguished_name 	= req_distinguished_name
req_extensions     	= v3_req
x509_extensions 	= v3_req

[ req_distinguished_name ]
countryName            = Country Name (2 letter code)
stateOrProvinceName    = State or Province Name (full name)
localityName           = Locality Name (eg, city)
organizationName       = Organization Name (eg, company)
commonName             = Common Name (e.g. server FQDN or YOUR name)

[v3_req]
# The extentions to add to a self-signed cert
subjectKeyIdentifier = hash
basicConstraints     = critical,CA:false
subjectAltName       = @alt_names
keyUsage             = critical,digitalSignature,keyEncipherment

[alt_names]
IP.1                 = ${ENV::ipaddress}
DNS.1                = ${ENV::commonname}
